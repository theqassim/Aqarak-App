<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta charset="UTF-8">
    <title>Ø¹Ù‚Ø§Ø±Ùƒ - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</title>
    <link rel="icon" type="image/png" href="logo.png">
    
    <link rel="stylesheet" href="styles.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        /* --- ğŸ¨ 1. Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© --- */
        :root {
            --glass-bg: rgba(20, 20, 20, 0.85);
            --neon-primary: #00ff88;
            --neon-secondary: #00d4ff;
            --card-bg: #1a1a1a;
            --text-main: #ffffff;
            --input-bg: rgba(0, 0, 0, 0.5);
        }

        body {
            background-color: #0f0f0f;
            background-image: radial-gradient(circle at 50% 0%, #1a2c25 0%, #0f0f0f 70%);
            min-height: 100vh;
            margin: 0;
            padding: 0;
            font-family: 'Cairo', sans-serif;
            color: white;
            display: flex;
            align-items: center; /* ØªÙˆØ³ÙŠØ· Ø¹Ù…ÙˆØ¯ÙŠ Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø© */
            justify-content: center;
            overflow-x: hidden;
        }

        /* --- 2. ÙƒØ§Ø±Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„ --- */
        .auth-container { width: 100%; max-width: 420px; padding: 20px; }
        
        .auth-frame {
            background: var(--glass-bg); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px; padding: 40px 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5); position: relative; overflow: hidden;
            /* Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø¸Ù‡ÙˆØ± Ø§Ù„ÙƒØ§Ø±Øª Ù†ÙØ³Ù‡ */
            animation: fadeUpCard 0.8s ease-out;
        }

        /* --- âœ¨ 3. Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù„ÙˆØ¬Ùˆ ÙˆØ§Ù„Ù†ØµÙˆØµ (Animations) --- */
        .auth-header { text-align: center; margin-bottom: 30px; }
        
        .auth-logo { 
            width: 90px; height: 90px; 
            border-radius: 50%; 
            border: 3px solid var(--neon-primary); 
            object-fit: cover; 
            margin-bottom: 15px; 
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);
            /* Ø­Ø±ÙƒØ© Ø§Ù„Ø¸Ù‡ÙˆØ± + Ø§Ù„Ø·ÙˆÙØ§Ù† Ø§Ù„Ù…Ø³ØªÙ…Ø± */
            animation: logoPop 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55), logoFloat 4s ease-in-out infinite;
        }

        .auth-title { 
            font-size: 1.6rem; 
            font-weight: 800; 
            color: white; 
            margin: 0;
            /* Ø­Ø±ÙƒØ© Ø§Ù„Ù†Øµ ÙˆØªØ£Ø«ÙŠØ± Ø§Ù„Ù„Ù…Ø¹Ø§Ù† */
            background: linear-gradient(90deg, #ffffff, #00ff88, #ffffff);
            background-size: 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            opacity: 0; /* ÙŠØ¨Ø¯Ø£ Ù…Ø®ÙÙŠ */
            animation: fadeInUp 0.8s ease-out 0.3s forwards, shimmer 3s linear infinite;
        }

        .auth-subtitle { 
            color: #aaa; 
            font-size: 0.95rem; 
            margin-top: 8px;
            opacity: 0; /* ÙŠØ¨Ø¯Ø£ Ù…Ø®ÙÙŠ */
            animation: fadeInUp 0.8s ease-out 0.6s forwards; /* ØªØ£Ø®ÙŠØ± Ø²Ù…Ù†ÙŠ */
        }

        /* ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø­Ø±ÙƒØ§Øª (Keyframes) */
        @keyframes logoPop {
            0% { transform: scale(0); opacity: 0; }
            80% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); }
        }
        
        @keyframes logoFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); } /* ÙŠØ·ÙˆÙ Ù„Ø£Ø¹Ù„Ù‰ */
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes shimmer {
            0% { background-position: -200% center; }
            100% { background-position: 200% center; }
        }

        @keyframes fadeUpCard {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- 4. Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª --- */
        .auth-tabs { display: flex; background: rgba(0,0,0,0.3); border-radius: 50px; padding: 5px; margin-bottom: 30px; }
        .tab-btn { flex: 1; padding: 10px; border: none; background: transparent; color: #888; font-size: 1rem; font-weight: bold; cursor: pointer; border-radius: 50px; transition: 0.3s; }
        .tab-btn.active { color: black; background: var(--neon-primary); box-shadow: 0 0 15px rgba(0, 255, 136, 0.4); }

        /* --- 5. Ø§Ù„ÙÙˆØ±Ù… ÙˆØ§Ù„Ø£Ø²Ø±Ø§Ø± --- */
        .input-group { margin-bottom: 20px; position: relative; }
        .input-group label { display: block; color: #ccc; font-size: 0.85rem; margin-bottom: 8px; font-weight: bold; }
        .neon-input { width: 100%; padding: 12px 15px 12px 40px; background: var(--input-bg); border: 1px solid #444; border-radius: 12px; color: white; font-size: 1rem; transition: 0.3s; box-sizing: border-box; }
        .neon-input:focus { border-color: var(--neon-primary); outline: none; box-shadow: 0 0 10px rgba(0, 255, 136, 0.1); }

        .btn-submit { width: 100%; padding: 14px; background: linear-gradient(45deg, var(--neon-primary), #00cc6a); border: none; border-radius: 12px; color: black; font-weight: bold; font-size: 1.1rem; cursor: pointer; transition: 0.3s; margin-top: 10px; }
        .btn-submit:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(0, 255, 136, 0.3); }
        .btn-submit:disabled { background: #444; color: #888; cursor: not-allowed; }

        .error-msg { color: #ff4444; font-size: 0.8rem; margin-top: 5px; display: block; min-height: 18px; }
        .forgot-link { display: block; text-align: center; color: #888; font-size: 0.9rem; margin-top: 20px; text-decoration: none; cursor: pointer; transition: 0.3s; }
        .forgot-link:hover { color: var(--neon-primary); }

        /* Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø¹ÙŠÙ† */
        .password-wrapper { position: relative; }
        .toggle-password { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: #888; cursor: pointer; z-index: 10; transition: 0.3s; font-size: 1.1rem; }
        .toggle-password:hover { color: var(--neon-primary); }

        /* Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„ØªØ­Ù‚Ù‚ */
        .validation-icon { position: absolute; left: 15px; top: 42px; font-size: 1.1rem; }
        .fa-check-circle { color: var(--neon-primary); display: none; }
        .fa-times-circle { color: #ff4444; display: none; }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ù‚ÙˆØ© */
        .password-strength { height: 4px; background: #333; margin-top: 8px; border-radius: 2px; overflow: hidden; }
        .strength-bar { height: 100%; width: 0; transition: 0.3s; }

        /* Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 2000; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .modal-content { background: #1c2630; padding: 30px; border-radius: 20px; width: 90%; max-width: 400px; border: 1px solid var(--neon-primary); text-align: center; position: relative; }
        .close-modal { position: absolute; top: 15px; left: 15px; color: white; font-size: 1.5rem; cursor: pointer; }

        /* ğŸ”¥ ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ (Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠØ©) ğŸ”¥ */
        @media (max-width: 480px) {
            body {
                /* Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªÙˆØ³ÙŠØ· Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ ÙÙŠ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ø¹Ø´Ø§Ù† Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ù…ÙŠØ§ÙƒÙ„Ø´ Ù…Ù† ÙÙˆÙ‚ */
                align-items: flex-start; 
                /* Ù…Ø³Ø§ÙØ© 12% Ù…Ù† Ø·ÙˆÙ„ Ø§Ù„Ø´Ø§Ø´Ø© Ù…Ù† ÙÙˆÙ‚ØŒ Ø¯Ù‡ Ø¨ÙŠØ¯ÙŠ Ù…Ø³Ø§ÙØ© "Ù…Ù†Ø·Ù‚ÙŠØ©" ÙˆÙ…Ø±ÙŠØ­Ø© */
                padding-top: 12vh; 
            }
            .auth-frame { 
                padding: 30px 20px; 
                margin-bottom: 50px; /* Ù…Ø³Ø§ÙØ© Ù…Ù† ØªØ­Øª Ø¹Ø´Ø§Ù† Ø§Ù„Ø³ÙƒØ±ÙˆÙ„ */
            } 
            .auth-logo { width: 80px; height: 80px; }
            .auth-title { font-size: 1.4rem; }
        }
        
        .fade-in { animation: fadeInUp 0.5s ease-out; }
    </style>
</head>
<body>

    <div class="auth-container">
        <div class="auth-frame">
            
            <div class="auth-header">
                <img src="logo.jpg" alt="Ø¹Ù‚Ø§Ø±Ùƒ" class="auth-logo">
                <h1 class="auth-title">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¹Ù‚Ø§Ø±Ùƒ</h1>
                <p class="auth-subtitle">Ø¨ÙˆØ§Ø¨ØªÙƒ Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠØ© Ø§Ù„Ø¢Ù…Ù†Ø© ğŸ </p>
            </div>

            <div class="auth-tabs">
                <button class="tab-btn active" onclick="switchTab('login')">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</button>
                <button class="tab-btn" onclick="switchTab('register')">Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</button>
            </div>

            <div id="login-form-wrapper" class="fade-in">
                <form id="login-form">
                    <div class="input-group">
                        <label>Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨</label>
                        <input type="tel" id="login-phone" class="neon-input" placeholder="01xxxxxxxxx" required>
                        <span id="login-phone-error" class="error-msg"></span>
                    </div>
                    <div class="input-group">
                        <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                        <div class="password-wrapper">
                            <input type="password" id="login-password" class="neon-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                            <i class="fas fa-eye toggle-password" onclick="togglePassword('login-password', this)"></i>
                        </div>
                        <span id="login-pass-error" class="error-msg"></span>
                    </div>
                    <button type="submit" class="btn-submit">Ø¯Ø®ÙˆÙ„</button>
                    <span class="forgot-link" onclick="openForgotModal()">Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ</span>
                </form>
            </div>

            <div id="register-form-wrapper" class="fade-in" style="display:none;">
                <form id="register-form">
                    <div id="reg-step-1">
                        <div class="input-group">
                            <label>Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</label>
                            <input type="text" id="reg-name" class="neon-input" required>
                        </div>

                        <div class="input-group">
                            <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ ÙÙ‚Ø·)</label>
                            <div style="position: relative;">
                                <input type="text" id="reg-username" class="neon-input" placeholder="username" minlength="5" required>
                                <i id="icon-check" class="fas fa-check-circle validation-icon"></i>
                                <i id="icon-error" class="fas fa-times-circle validation-icon"></i>
                            </div>
                            <span id="username-msg" class="error-msg"></span>
                        </div>

                        <div class="input-group">
                            <label>Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨</label>
                            <input type="tel" id="reg-phone" class="neon-input" placeholder="01xxxxxxxxx" required>
                            <span id="reg-phone-error" class="error-msg"></span>
                        </div>

                        <div class="input-group">
                            <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                            <div class="password-wrapper">
                                <input type="password" id="reg-password" class="neon-input" onkeyup="checkStrength()" required>
                                <i class="fas fa-eye toggle-password" onclick="togglePassword('reg-password', this)"></i>
                            </div>
                            <div class="password-strength"><div id="strength-bar" class="strength-bar"></div></div>
                            <span id="strength-text" style="font-size: 0.75rem; color: #aaa; margin-top: 3px; display:block;"></span>
                        </div>

                        <div class="input-group">
                            <label>ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                            <div class="password-wrapper">
                                <input type="password" id="reg-confirm-password" class="neon-input" required>
                                <i class="fas fa-eye toggle-password" onclick="togglePassword('reg-confirm-password', this)"></i>
                            </div>
                            <span id="confirm-pass-error" class="error-msg"></span>
                        </div>
                    </div>

                    <div class="input-group" id="reg-otp-group" style="display: none; animation: fadeInUp 0.5s;">
                        <label style="color: var(--neon-primary);">âœ¨ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„ÙˆØ§ØªØ³Ø§Ø¨</label>
                        <input type="text" id="reg-otp" class="neon-input" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ (4 Ø£Ø±Ù‚Ø§Ù…)" style="text-align: center; letter-spacing: 5px; font-size: 1.2rem;">
                    </div>

                    <button type="submit" class="btn-submit" id="reg-submit-btn">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
                </form>
            </div>

        </div>
    </div>

    <div id="forgotModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeForgotModal()">&times;</span>
            <h3 style="color: var(--neon-secondary); margin-bottom: 20px;">Ø§Ø³ØªØ¹Ø§Ø¯Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h3>
            <p id="forgot-message" style="color: #ccc; font-size: 0.9rem; margin-bottom: 20px;"></p>
            
            <div id="forgot-step-1">
                <input type="tel" id="forgot-phone" class="neon-input" placeholder="Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø¬Ù„" style="margin-bottom: 15px;">
                <button class="btn-submit" onclick="sendForgotOTP()">Ø£Ø±Ø³Ù„ ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù‚Ù‚</button>
            </div>
            
            <div id="forgot-step-2" style="display:none;">
                <input type="text" id="forgot-otp" class="neon-input" placeholder="Ø§Ù„ÙƒÙˆØ¯" style="margin-bottom: 10px; text-align: center;">
                <div class="password-wrapper" style="margin-bottom: 15px;">
                    <input type="password" id="new-password" class="neon-input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©">
                    <i class="fas fa-eye toggle-password" onclick="togglePassword('new-password', this)"></i>
                </div>
                <button class="btn-submit" onclick="resetPassword()">ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="ban-check.js"></script>
    <script src="global-alert.js"></script>
</body>
</html>