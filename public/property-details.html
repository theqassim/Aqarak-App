<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta charset="UTF-8" />

    <title>{{TITLE}} | عقارك</title>
    <meta name="description" content="{{DESCRIPTION}}" />

    <meta property="og:type" content="website" />
    <meta property="og:url" content="{{URL}}" />
    <meta property="og:title" content="{{TITLE}}" />
    <meta property="og:description" content="{{DESCRIPTION}}" />
    <meta property="og:image" content="{{IMAGE}}" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="{{TITLE}}" />
    <meta name="twitter:description" content="{{DESCRIPTION}}" />
    <meta name="twitter:image" content="{{IMAGE}}" />

    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="icon" type="image/png" href="logo.png" />
    <link rel="apple-touch-icon" href="logo.png" />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "RealEstateAgent",
        "name": "منصة عقارك - Aqarak",
        "alternateName": ["Aqarak EG", "شركة عقارك", "Aqarak Real Estate"],
        "url": "https://aqarakeg.com",
        "logo": "https://aqarakeg.com/logo.jpg",
        "image": "https://aqarakeg.com/logo.jpg",
        "description": "منصة عقارك هي الوجهة الأولى لبيع وشراء وإيجار العقارات في مصر بأقل عمولة. نحن شركة متخصصة في توفير حلول عقارية ذكية وسريعة.",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Cairo",
          "addressCountry": "EG"
        },
        "priceRange": "$",
        "contactPoint": {
          "@type": "ContactPoint",
          "telephone": "+201008102237",
          "contactType": "customer service",
          "areaServed": "EG",
          "availableLanguage": ["Arabic"]
        },
        "sameAs": [
          "https://www.facebook.com/share/1ADgNDLXc6/",
          "https://www.instagram.com/aqarak.eg?igsh=eDN2d2tuNmxhazY5",
          "https://whatsapp.com/channel/0029Vb6YH08CxoAoe7aaSP38"
        ]
      }
    </script>
    <style>
      :root {
        --glass-bg: rgba(20, 20, 20, 0.98);
        --neon-primary: #00ff88;
        --neon-secondary: #00d4ff;
        --card-bg: #1a1a1a;
        --text-main: #ffffff;
      }

      body.internal-page {
        background-color: #0f0f0f;
        background-image: radial-gradient(
          circle at 50% 0%,
          #1a2c25 0%,
          #0f0f0f 70%
        );
        min-height: 100vh;
        margin: 0 !important;
        padding: 0 !important;
        font-family: "Cairo", sans-serif;
        color: white;
        overflow-x: hidden;
      }
    </style>
  </head>
  <style>
    :root {
      --glass-bg: rgba(20, 20, 20, 0.95);
      --neon-primary: #00ff88;
      --neon-secondary: #00d4ff;
      --card-bg: #1a1a1a;
      --text-main: #ffffff;
    }

    body.internal-page {
      background-color: #0f0f0f;
      background-image: radial-gradient(
        circle at 50% 0%,
        #1a2c25 0%,
        #0f0f0f 70%
      );
      min-height: 100vh;
      margin: 0 !important;
      padding: 0 !important;
      font-family: "Cairo", sans-serif;
      color: white;
      overflow-x: hidden;
    }

    .smart-header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding: 12px 0;
      transition: transform 0.3s ease-in-out;
    }

    .smart-header.scroll-down {
      transform: translateY(-100%);
    }

    .header-content {
      max-width: 1250px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 20px;
    }

    .logo-area {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
    }

    .logo-img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 2px solid var(--neon-primary);
      object-fit: cover;
    }

    .logo-text {
      color: white;
      font-weight: bold;
      font-size: 1.2rem;
    }

    .nav-home-btn {
      color: white;
      text-decoration: none;
      border: 1px solid var(--neon-primary);
      padding: 8px 20px;
      border-radius: 50px;
      transition: 0.3s;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .nav-home-btn:hover {
      background: var(--neon-primary);
      color: black;
    }

    .property-detail-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 100px 20px 30px 20px;
    }

    .details-layout {
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 25px;
      align-items: start;
    }

    .details-info-frame,
    .image-gallery-frame {
      background: var(--card-bg);
      border-radius: 16px;
      padding: 20px;
      border: 1px solid #333;
    }

    .page-title {
      font-size: 1.6rem;
      margin: 0 0 15px 0;
      line-height: 1.4;
      color: white;
    }

    .detail-price {
      font-size: 1.8rem;
      color: var(--neon-primary);
      font-weight: bold;
      margin-bottom: 20px;
      display: block;
    }

    .specs-list {
      list-style: none;
      padding: 15px 0;
      margin: 20px 0;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      border-top: 1px solid #333;
      border-bottom: 1px solid #333;
    }

    .specs-list li {
      color: #ddd;
      font-size: 0.95rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .specs-list li i {
      color: var(--neon-secondary);
      width: 20px;
    }

    .property-description-box {
      max-height: 300px;
      overflow-y: auto;
      padding-right: 5px;
      line-height: 1.7;
      color: #ccc;
      white-space: pre-line;
    }

    .property-description-box::-webkit-scrollbar {
      width: 5px;
    }
    .property-description-box::-webkit-scrollbar-thumb {
      background: #444;
      border-radius: 10px;
    }

    .main-image-container {
      position: relative;
      height: 400px;
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 15px;
      border: 1px solid #444;
    }

    .main-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .image-thumbnails {
      display: flex;
      gap: 10px;
      overflow-x: auto;
      padding-bottom: 5px;
    }

    .thumbnail-image {
      width: 80px;
      height: 80px;
      flex-shrink: 0;
      border-radius: 8px;
      object-fit: cover;
      cursor: pointer;
      opacity: 0.6;
      border: 2px solid transparent;
      transition: 0.3s;
    }

    .thumbnail-image.active,
    .thumbnail-image:hover {
      opacity: 1;
      border-color: var(--neon-primary);
    }

    .gallery-nav-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      z-index: 10;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(0, 0, 0, 0.6);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: 0.3s;
    }
    .gallery-nav-btn:hover {
      background: var(--neon-primary);
      color: black;
    }
    .prev-btn {
      left: 15px;
    }
    .next-btn {
      right: 15px;
    }

    .property-type {
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 0.8rem;
      font-weight: bold;
      margin-left: 10px;
      vertical-align: middle;
    }
    .sale {
      background: var(--neon-primary);
      color: black;
    }
    .rent {
      background: var(--neon-secondary);
      color: black;
    }

    .action-buttons-group {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }

    .btn-neon-auth {
      border: 1px solid var(--neon-primary);
      color: var(--neon-primary);
      background: transparent;
      padding: 12px;
      border-radius: 50px;
      cursor: pointer;
      font-weight: bold;
      font-size: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: 0.3s;
      width: 100%;
    }
    .btn-neon-auth:hover {
      background: var(--neon-primary);
      color: black;
    }

    .ai-insight-box {
      background: rgba(0, 212, 255, 0.05);
      border: 1px solid var(--neon-secondary);
      border-radius: 12px;
      padding: 20px;
      margin: 25px 0;
      display: flex;
      gap: 15px;
    }
    .ai-icon {
      font-size: 2rem;
      color: var(--neon-secondary);
      margin-top: 5px;
    }

    @media (max-width: 900px) {
      .smart-header {
        padding: 10px 0;
      }

      .property-detail-container {
        padding-top: 85px;
        padding-left: 15px;
        padding-right: 15px;
      }

      .details-layout {
        grid-template-columns: 1fr;
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .details-info-frame {
        order: 1;
        width: 100%;
        box-sizing: border-box;
      }
      .image-gallery-frame {
        order: 2;
        width: 100%;
        box-sizing: border-box;
      }
      .main-image-container {
        height: 280px;
      }

      .page-title {
        font-size: 1.3rem;
      }
      .detail-price {
        font-size: 1.5rem;
      }
      .action-buttons-group {
        flex-direction: column;
      }
    }

    .modal-overlay,
    .lightbox-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      z-index: 2000;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(5px);
    }
    .modal-content {
      background: #1c2630;
      padding: 25px;
      border-radius: 15px;
      width: 90%;
      max-width: 450px;
      border: 1px solid var(--neon-primary);
      position: relative;
    }
    .lightbox-content img {
      max-width: 100%;
      max-height: 80vh;
      border-radius: 10px;
    }

    .neon-input-white {
      width: 100%;
      padding: 10px;
      background: #222;
      border: 1px solid #444;
      color: white;
      border-radius: 8px;
      box-sizing: border-box;
      margin-top: 5px;
    }
    .btn-offer-submit {
      width: 100%;
      background: var(--neon-primary);
      border: none;
      padding: 12px;
      border-radius: 50px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 15px;
    }

    .main-footer {
      text-align: center;
      padding: 20px;
      border-top: 1px solid #333;
      margin-top: 40px;
      color: #777;
    }
  </style>
  <body class="internal-page">
    <header class="smart-header" id="main-header">
      <div class="header-content">
        <a
          href="home"
          style="
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
          "
        >
          <img
            src="logo.png"
            alt="Logo"
            style="
              width: 40px;
              border-radius: 50%;
              border: 2px solid var(--neon-primary);
            "
          />
          <span style="color: white; font-weight: bold; font-size: 1.2rem"
            >عقارك</span
          >
        </a>
        <a href="home" class="nav-home-btn"
          ><i class="fas fa-home"></i> الرئيسية</a
        >
      </div>
    </header>

    <main class="main-content">
      <div class="property-detail-container" id="property-detail-container">
        <div
          id="loading-message"
          style="text-align: center; padding: 50px; color: var(--neon-primary)"
        >
          <i class="fas fa-circle-notch fa-spin fa-2x"></i>
          <p>جاري تحميل التفاصيل...</p>
        </div>
      </div>
    </main>

    <div id="lightbox-modal" class="lightbox-overlay">
      <span class="close-lightbox">&times;</span>
      <button class="lightbox-btn prev-lightbox">❮</button>
      <div class="lightbox-content" style="text-align: center">
        <img id="lightbox-img" src="" alt="صورة مكبرة" />
        <div
          class="lightbox-counter"
          style="color: white; margin-top: 10px"
        ></div>
      </div>
      <button class="lightbox-btn next-lightbox">❯</button>
    </div>

    <div id="offer-modal" class="modal-overlay">
      <div class="modal-content">
        <span class="close-modal" onclick="closeOfferModal()">&times;</span>
        <h3
          style="
            color: var(--neon-secondary);
            text-align: center;
            margin-bottom: 15px;
          "
        >
          <i class="fas fa-money-bill-wave"></i> تقديم عرض سعر
        </h3>
        <p
          style="
            text-align: center;
            color: #888;
            font-size: 0.9rem;
            margin-bottom: 20px;
          "
        >
          أدخل السعر المناسب لك وسنقوم بإبلاغ المالك.
        </p>
        <form id="offer-form">
          <div class="input-group">
            <label>الاسم</label>
            <input
              type="text"
              id="offer-name"
              class="neon-input-white"
              required
            />
          </div>
          <div class="input-group">
            <label>رقم الهاتف</label>
            <input
              type="tel"
              id="offer-phone"
              class="neon-input-white"
              required
            />
          </div>
          <div class="input-group">
            <label>سعر العرض (ج.م)</label>
            <input
              type="number"
              id="offer-price"
              class="neon-input-white"
              placeholder="مثال: 1500000"
              required
            />
          </div>
          <button type="submit" class="btn-offer-submit">إرسال العرض</button>
        </form>
      </div>
    </div>

    <div class="modal-overlay" id="report-modal">
      <div class="modal-content" style="border-color: #ff4444">
        <span
          class="close-modal"
          onclick="document.getElementById('report-modal').style.display='none'"
          >&times;</span
        >
        <h3 style="color: #ff4444; margin-bottom: 15px; text-align: center">
          <i class="fas fa-exclamation-triangle"></i> إبلاغ عن المعلن
        </h3>
        <p
          style="
            text-align: center;
            color: #ccc;
            font-size: 0.9rem;
            margin-bottom: 20px;
          "
        >
          سيتم مراجعة البلاغ، ولن تظهر لك إعلانات هذا المستخدم مرة أخرى.
        </p>

        <textarea
          id="report-reason"
          class="neon-input-white"
          rows="3"
          placeholder="سبب الإبلاغ (اختياري)..."
          style="
            width: 100%;
            margin-bottom: 15px;
            background: #222;
            color: white;
            border: 1px solid #444;
          "
        ></textarea>

        <button
          onclick="submitUserReport()"
          style="
            width: 100%;
            background: #ff4444;
            border: none;
            padding: 12px;
            border-radius: 50px;
            color: white;
            font-weight: bold;
            cursor: pointer;
          "
        >
          تأكيد الإبلاغ
        </button>
      </div>
    </div>

    <footer
      class="main-footer"
      style="
        text-align: center;
        padding: 20px;
        border-top: 1px solid #333;
        margin-top: 40px;
        color: #777;
      "
    >
      <p>جميع الحقوق محفوظة © 2025 - عقارك</p>
    </footer>

    <script src="guest.js"></script>
    <script src="utils.js"></script>
    <script type="module" src="property-details.js"></script>
    <script src="app.js"></script>
    <script src="reload.js"></script>
    <script src="ban-check.js"></script>
    <script src="global-alert.js"></script>
  </body>
</html>
